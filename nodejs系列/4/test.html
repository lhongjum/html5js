<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{margin:0;padding:0;}
    #topNode{
        width:100%;height:40px;border-bottom:1px solid black;box-shadow:0 0 10px #ccc;
        background:#ccc;
    }
    #topNode > button{
        float:left;
        padding:3px;
        margin-left:20px;
        background:white;
    }
    #loginNode{
        width:200px;height:170px;border:1px solid black;
        position: absolute;left:0;top:0;right:0;bottom:0;right:0;margin:auto;
        padding-top:30px;
        background:white;
        display:none;
        z-index:4;
    }
    #cl{
        position: absolute;top:10px;right:10px;
    }
    #allNodeDo{
        width:100%;height:100%;position: absolute;left:0;top:0;z-index:3;background:rgba(0,0,0,.3);
        display: none;
    }
    #pNode{
        line-height: 30px;margin-left:10px;float:left;
    }
    </style>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
    <div id='allNodeDo'></div>
    <div id='topNode'>
        <span id="pNode"></span>
        <button id='dl'>登录</button>
        <button id='zc'>注册</button>
    </div>
    <div id="loginNode">
        <button id="cl">关闭</button>
        用户：<input type="text" id="user"><br>
        密码：<input type="text" id="pass"><br>
        <button id="loginBtn">登陆</button><button id='zcbtn'>注册</button>
    </div>
    <script>
    dl.onclick = zc.onclick = function(){
        loginNode.style.display = 'block';
        allNodeDo.style.display = 'block';
    }
    cl.onclick = function(){
        loginNode.style.display = 'none';
        allNodeDo.style.display = 'none';
    }
    zcbtn.onclick = function(){
        if(user.value == '' || pass.value == ''){
            alert('用户名密码不能为空');
            return;
        }
        $.ajax({
            url:'http://localhost:9281',
            type:'get',
            data:{
                user:user.value,
                pass:pass.value
            },
            success:function(data){
                alert(data);
            }
        });
    }
    loginBtn.onclick = function(){
        if(user.value == '' || pass.value == ''){
            alert('用户名密码不能为空');
            return;
        }
        $.ajax({
            url:'http://localhost:9282',
            type:'get',
            data:{
                user:user.value,
                pass:pass.value
            },
            success:function(data){
                alert(data);
                if(data=='登录成功'){
                    dl.style.display = zc.style.display = loginNode.style.display = 'none';
                    allNodeDo.style.display = 'none';
                    pNode.innerHTML = user.value;
                }
            }
        });
    }
    </script>
</body>
</html>