<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="bower/vue/dist/vue.min.js" type="text/javascript"></script>
    <script src="bower/jquery/dist/jquery.min.js" type="text/javascript"></script>
</head>
<body>
<div id="app">
    {{message}}
</div>
<div id="app1">
    <p>{{ message }}</p>
    <input v-model="message">
</div>
<div id="app3">
    <ul>
        <li v-for="todo in todos">
            {{todo.text}}
        </li>
    </ul>
</div>
<div id="app4">
    <p>{{message}}</p>
    <button v-on:click="reverseMessage">Reverse Message</button>
</div>
<div id="app5">
    <input v-model="newTodo" v-on:keyup.enter="addTodo">
    <ul>
        <li v-for="todo in todos">
            <span>{{todo.text}}</span>
            <button v-on:click="removeTodo($index)">X</button>
        </li>
    </ul>
</div>
<div id="example-1">
    Hello {{name}}!
</div>
<div id="example-2">
    <p v-if="greeting">Hello!</p>

    <div>
        if else show 条件渲染
    </div>
    <div v-if="false">
        sorry
    </div>
    <div v-else>
        Not sorry
    </div>

    <template v-if="false">
        <h1>Title</h1>
        <p>Paragraph 1</p>
        <p>Paragraph 2</p>
    </template>

    <h1 v-show="ok">Hello!</h1>
</div>
<div id="example">{{a+1}}{{b|capitalize}}</div>
<div id="example2">
    a = {{a}},b={{b}}
</div>
<div id="demo">
    {{fullName}}
</div>

<div id="demo2" class="static" v-bind:class="{'class-a':isA,'class-b':isB}">Class操作1</div>
<div id="demo3" class="static" v-bind:class="[classA,classB]">Class操作2</div>
<div id="demo4" class="static" v-bind:class="[classA,{classB:isB,'class-c':isC}]">Class操作3</div>
<div id="demo5" v-bind:style="{color:activeColor,fontSize:fontSize+'px'}">Style操作1</div>
<div id="demo6" v-bind:style="styleObject">Style操作2</div>


<ul id="example3">
    <li v-for="item in items">
        {{parentMessage}} - {{$index}} - {{item.message}}
    </li>
</ul>
<ul id="example4">
    <li v-for="(index,item) in items">
        {{index}} - {{item.message}}
    </li>
</ul>
<ul id="example5">
    <template v-for="item in items">
    <li>{{item.msg}}</li>
    <li class="divider"></li>
    </template>
</ul>

<ul id="repeat-object" class="demo">
    <li v-for="value in object">
        {{$key}} : {{value}}
    </li>
</ul>
<div id="example6">
    <sapn v-for="n in 10">{{n}}</sapn>
</div>

<div id="example7">
    <button v-on:click="greet($event)">Greet</button>
</div>

<div id="example8">
    <button v-on:click="say('hi')">Say Hi</button>
    <button v-on:click="say('what')">Say What</button>
    <br><br>
    <span>Message is :{{message}}</span>
    <br><br>
    <input type="text" v-model="message" placeholder="edit me" lazy number debounce="500">
    <br><br>
    <span>Message is :{{message2}}</span>
    <br><br>
    <input type="text" v-model="message2" placeholder="edit me"  debounce="500">
    <br><br>
    <input type='checkbox' id="checkbox" v-model="checked">
    <label for="checkbox">{{checked}}</label>
    <br><br>
    <input type="checkbox" id="jack" value="Jack" v-model="checkedNames">
    <label for="jack">Jack</label>
    <input type="checkbox" id="john" value="John" v-model="checkedNames">
    <label for="john">John</label>
    <input type="checkbox" id="mike" value="Mike" v-model="checkedNames">
    <label for="mike">Mike</label>
    <br>
    <span>Checked name: {{checkedNames | json}}</span>
    <br><br>
    <input type="radio" id="one" value="One" v-model="picked">
    <label for="one">One</label>
    <br>
    <input type="radio" id="two" value="Two" v-model="picked">
    <label for="two">Two</label>
    <br>
    <span>Picked:{{picked}}</span>
    <br><br>
    <select v-model="selected">
        <option selected>A</option>
        <option>B</option>
        <option>C</option>
    </select>
    <span>Selected:{{selected}}</span>
    <br><br>
    <select v-model="selected2" multiple>
        <option selected>A</option>
        <option>B</option>
        <option>C</option>
    </select>
    <span>Selected:{{selected2|json}}</span>
    <br><br>
    <select v-model="selected3">
        <option v-for="option in options" v-bind:value="option.value">{{option.text}}</option>
    </select>
    <span>Selected:{{selected3}}</span>
    <br><br>
    <input type="checkbox" v-model="toggle" v-bind:true-value="a" v-bind:false-value="b" v-on:change="checkboxChange">
    <br><br>
    <input type="radio" v-model="pick" v-bind:value="a" v-on:click="radioclick">
</div>

<div id="example9">
    <style type="text/css">
        .expand-transition{
            transition:all .3s ease;
            height:30px;
            padding:10px;
            background-color:#eee;
            overflow:hidden;
        }
        .expand-enter,.expand-leave{
            height:0;
            padding:0 10px;
            opacity:0;
        }

        .bounce-transition {
            display: inline-block;
        }
        .bounce-enter {
            -webkit-animation: bounce-in .5s;
            animation: bounce-in .5s;
        }
        .bounce-leave {
            -webkit-animation: bounce-out .5s;
            animation: bounce-out .5s;
        }
        @keyframes bounce-in {
            0% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }
            50% {
                -webkit-transform: scale(1.5);
                transform: scale(1.5);
            }
            100% {
                -webkit-transform: scale(1);
                transform: scale(1);
            }
        }
        @keyframes bounce-out {
            0% {
                -webkit-transform: scale(1);
                transform: scale(1);
            }
            50% {
                -webkit-transform: scale(1.5);
                transform: scale(1.5);
            }
            100% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }
        }
        @-webkit-keyframes bounce-in {
            0% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }
            50% {
                -webkit-transform: scale(1.5);
                transform: scale(1.5);
            }
            100% {
                -webkit-transform: scale(1);
                transform: scale(1);
            }
        }
        @-webkit-keyframes bounce-out {
            0% {
                -webkit-transform: scale(1);
                transform: scale(1);
            }
            50% {
                -webkit-transform: scale(1.5);
                transform: scale(1.5);
            }
            100% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }
        }
        ul {
            padding-left: 0;
            font-family: Helvetica, Arial, sans-serif;
        }
        .staggered-transition {
            transition: all .5s ease;
            overflow: hidden;
            margin: 0;
            height: 20px;
        }
        .staggered-enter, .staggered-leave {
            opacity: 0;
            height: 0;
        }
    </style>
    <div v-if="show" transition="expand">hello</div>
    <button @click="show = !show">Toggle</button>
    <br>
    <span v-show="show" transition="bounce">Look at me!</span>
    <br>
    <button @click="show = !show">Toggle</button>
    <p transition="fade"></p>
    <input v-model="query">
    <ul>
        <li v-for="item in list | filterBy query"
            transition="staggered"
            stagger="100">
            {{item.msg}}
        </li>
    </ul>
</div>
<div id="example10">
    <my-component></my-component>
</div>
<div id="example11">
    <my-component1></my-component1>
    <my-component3></my-component3>
    <child msg="hello!" my-message="HELLO!"></child>

    <div>
        <input v-model="parentMsg">
        <br>
        <child v-bind:my-message="parentMsg"></child>
        <child :msg.sync="parentMsg"></child>
    </div>
</div>

<!-- 子组件模板 -->
<template id="child-template">
    <input v-model="msg">
    <button v-on:click="notify">Dispatch Event</button>
</template>

<!-- 父组件模板 -->
<div id="events-example">
    <p>Messages: {{ messages | json }}</p>
    <child></child>

</div>
1111111111111111111
<template id="child-template2">
    <div>
        <h1>This is my component!</h1>
        <slot>
            如果没有分发内容则显示我。
        </slot>
    </div>
</template>
<div id="events-example2">
    <child2>
        <p>This is some original content</p>
        <p>This is some more original content</p>
    </child2>
</div>
33333333333333333
<template id="child-template3">
    <div>
        <slot name="one"></slot>
        <slot></slot>
        <slot name="two"></slot>
    </div>
</template>
<div id="events-example3">
    <multi-insertion>
        <p slot="one">One</p>
        <p slot="two">Two</p>
        <p>Default A</p>
    </multi-insertion>
</div>

<div id="demo7" v-demo:hello.a.b="msg"></div>
<div id="demo8" v-demo2="{color:'white',text:'hello'}"></div>
<div id="demo9" v-demo3.literal="foo bar baz"></div>
<div id="demo10" v-example a="hi"></div>
<div id="demo11" v-example v-bind:a="someValue"></div>

<span id="demo12" v-text = "message | warp 'before1' 'after2'"></span>

<div id="demo13">
    <input type="text" v-model="message | currencyDisplay" />
    <br/>
    Model value:{{message}}
</div>


<script type="text/javascript">
    new Vue({
        el:"#demo13",
        data:{"message":11.22},
        filters:{
            currencyDisplay:{
            read:function(val){
                return '$'+val.toFixed(2)
            },
            write:function(val,oldVal){
                var number = +val.replace(/[^\d.]/g,'')
                return isNaN(number)?0:parseFloat(number.toFixed(2))
            }
            }
        }
    })
    new Vue({
        el:'#demo12',
        data:{'message':'1111'},
        filters:{
            'warp':function(value,begin,end){
                return begin+value+end;
            }
        }
    })
    var vm9 = new Vue({
        el:'#demo11',
        directives:{
            params:['a'],
            paramWatchers:{
                a:function (val,oldVal){
                    console.log('a changed!')
                }
            }
        }
    })
    new Vue({
        el:'#demo10',
        directives:{
            'example':{
                params:['a'],
                bind:function(){
                    console.log(this.params.a)
                }
            }
        }
    })
//    Vue.directive('demo3',function(value){
//        console.log(value)
//    })
    new Vue({
        el:'#demo9',
        directives:{
            'demo3':function(value){
                console.log(value)
            }
        }
    })
    Vue.directive('demo2',function(value){
        console.log(value.color)
        console.log(value.text)
    })
    new Vue({
        el:"#demo8"
    })
    Vue.directive('demo',{
        bind:function(){
          console.log('demo bound!');
        },
        update:function(value){
            this.el.innerHTML =
                            'name - '+this.name+'<br>'+
                            'expression - '+this.expression+'<br>'+
                            'argument - '+this.arg+'<br>'+
                            'modifiers - '+JSON.stringify(this.modifiers)+"<br>"+
                            'value - '+value
        }
    })
    var demo7 = new Vue({
        el:"#demo7",
        data:{msg:'hello!'}
    })


    Vue.component('multi-insertion', {
        template: '#child-template3'
    })
    new Vue({
        el:"#events-example3"
    })
    Vue.component('child2', {
        template: '#child-template2'
    })
    new Vue({
        el:"#events-example2"
    })

    // 注册子组件
    // 将当前消息派发出去
    Vue.component('child', {
        template: '#child-template',
        data: function () {
            return { msg: 'hello' }
        },
        methods: {
            notify: function () {
                if (this.msg.trim()) {
                    this.$dispatch('child-msg', this.msg)
                    this.msg = ''
                }
            }
        }
    })



    // 初始化父组件
    // 将收到消息时将事件推入一个数组
    var parent = new Vue({
        el: '#events-example',
        data: {
            messages: []
        },
        // 在创建实例时 `events` 选项简单地调用 `$on`
        events: {
            'child-msg': function (msg) {
                // 事件回调内的 `this` 自动绑定到注册它的实例上
                this.messages.push(msg)
            }
        }
    })

    Vue.component('child',{props:['msg','myMessage'],template:'<sapn>{{msg}} - {{myMessage}}</span>'})

    var Child = Vue.extend({
        template:'<div>A custom component!</div>'
    })
    var Parent = Vue.extend({
        template:'<div>Parent component!<my-component3></my-component3></div>',
        'my-component3':Child
    })

    var MyComponent = Vue.extend({
        template:'<div>A custom component!</div>'
    })
    Vue.component('my-component',MyComponent);
    Vue.component('my-component1',Parent);
    new Vue({
        el:"#example11"
    })
    new Vue({
        el:"#example10"
    })

    new Vue({
        el: "#example9",
        data:{
            show:false,
            transitionName:'fade',
            query: '',
            list: [
                { msg: 'Bruce Lee' },
                { msg: 'Jackie Chan' },
                { msg: 'Chuck Norris' },
                { msg: 'Jet Li' },
                { msg: 'Kung Fury' }
            ]
        },
        transition:{
            expand: {
                beforeEnter: function (el) {
                    el.textContent = 'beforeEnter'
                },
                enter: function (el) {
                    el.textContent = 'enter'
                },
                afterEnter: function (el) {
                    el.textContent = 'afterEnter'
                },
                beforeLeave: function (el) {
                    el.textContent = 'beforeLeave'
                },
                leave: function (el) {
                    el.textContent = 'leave'
                },
                afterLeave: function (el) {
                    el.textContent = 'afterLeave'
                }
            },
            fade:{
                css: false,
                enter: function (el, done) {
                    // 元素已被插入 DOM
                    // 在动画结束后调用 done
                    $(el)
                            .css('opacity', 0)
                            .animate({ opacity: 1 }, 1000, done)
                },
                enterCancelled: function (el) {
                    $(el).stop()
                },
                leave: function (el, done) {
                    // 与 enter 相同
                    $(el).animate({ opacity: 0 }, 1000, done)
                },
                leaveCancelled: function (el) {
                    $(el).stop()
                }
            }
        }
    });

    var vm8 = new Vue({
        el:'#example8',
        data:{
            pick:false,
            toggle:'a',
            selected3:'A',
            options:[
                {text:'One',value:'A'},
                {text:'Two',value:'B'},
                {text:'Three',value:'C'}
            ],
            checkedNames:[]
        },
        methods:{
            say:function(msg){
                alert(msg)
            },
            checkboxChange:function(){
                console.log(this.a)
            },
            radioclick:function(){
                console.log(this.pick)
            }
        }
    })
    new Vue({
        el:"#example7",
        data:{
            name:"Vue.js"
        },
        methods:{
            greet:function(event){
                alert('Hello'+ this.name+"!")
                alert(event.target.tagName)
                alert(event.preventDefault())
            }
        }
    })

    new Vue({
        el:'#example6'
    })
    new Vue({
        el:'#repeat-object',
        data:{
            object:{
                FirstName:'John',
                LastName:'Doe',
                Age:30
            }
        }
    })
    new Vue({
        el:"#example5",
        data:{
            items:[
                {msg:'template1'},
                {msg:'template2'}
            ]
        }
    })
    new Vue({
        el:"#example4",
        data:{
            parentMessage:'Parent',
            items:[
                {message:'Foo'},
                {message:'Bar'}
            ]
        }
    })
    var ex3 = new Vue({
        el:"#example3",
        data:{
            parentMessage:'Parent',
            items:[
    {message:'Foo'},
    {message:'Bar'}
            ]
        }
    })
    ex3.items = ex3.items.filter(function (item){
        return item.message.match(/Foo/)
    })
    ex3.items[0] = {};

//    alert(Math.random());
//    var ok = true;
    new Vue({
        el:'#demo6',
        data:{
            styleObject:{
                color:'red',
                fontSize:'13px'
            }
        }
    })
    new Vue({
        el:'#demo5',
        data:{
            activeColor:'red',
            fontSize:30
        }
    })
    var vm6 = new Vue({
        el:'#demo4',
        data:{
            'classA':'class-a',
            'classB':'class-b',
            'isB':true,
            'isC':true
        }
    })
    var vm5 = new Vue({
        el:'#demo3',
        data:{
            'classA':'class-a',
            'classB':'class-b'
        }
    })
    var vm4 = new Vue({
        el:'#demo2',
        data:{
            isA:true,
            isB:false
        }
    })

    var vm3 = new Vue({
        el:'#demo',
        data:{
            firstName:'Foo',
            lastName:'Bar',
//            fullName:'Foo Bar'
        },
        computed:{
//            fullName:function(){
//                return this.firstName+" "+this.lastName;
//            }
            fullName:{
                get:function() {
                    return this.firstName+" "+this.lastName;
                },
                set:function(newValue){
                    var names = newValue.split(' ');
                    this.firstName=names[0];
                    this.lastName=names[names.length-1]
                }
            }
        }
    })
//    vm3.$watch('firstName',function(val){
//        this.fullName = val + " "+this.lastName;
//    })
//    vm3.$watch('lastName',function(val){
//        this.fullName = this.firstName + " "+val;
//    })


    var vm2 = new Vue({
        el:'#example2',
        data:{
            a:1
        },
        computed:{
            b:function(){
                return this.a+1;
            }
        }
    })


    var data = {a:1,b:'aass'}
    var vm = new Vue({
        el:"#example",
        data:data,
        created:function(){
            console.log('a is :'+this.a)
        }
    })

    console.log(vm.$data === data);
    console.log(vm.$el === document.getElementById('example'));

    vm.$watch('a',function(newVal,oldVal){
        console.log('change');
    })

    console.log(vm.a===data.a)

    vm.a = 2
    console.log(data.a)

    data.a = 3
    console.log(vm.a)

    var exampleVM2 = new Vue({
        el:'#example-2',
        data:{
            greeting:true
        }
    })
    var exampleData = {
        name:'Vue.js'
    }
    var exampleVM = new Vue({
        el:"#example-1",
        data:exampleData
    });

    new Vue({
        el:'#app',
        data:{
            message:'Hello Vue.js!'
        }
    });
    new Vue({
        el:'#app1',
        data:{
            message:'Hello Vue.js!'
        }
    });
    new Vue({
        el:'#app3',
        data:{
            todos:[
                {text:'Learn JavaScript'},
                {text:'Learn Vue.js'},
                {text:'Build Something Awesome'}
            ]
        }
    });
    new Vue({
        el:"#app4",
        data:{
            message:"Hello Vue.js!"
        },
        methods:{
            reverseMessage:function(){
                this.message = this.message.split('').reverse().join('')
            }
        }
    });
    new Vue({
        el:'#app5',
        data:{
            newTodo:'',
            todos:[
                {text:'Add some todos'}
            ]
        },
        methods:{
            addTodo:function(){
                var text = this.newTodo.trim()
                if(text){
                    this.todos.push({text:text})
                    this.newTodo = ''
                }
            },
            removeTodo:function(index){
                this.todos.splice(index,1)
            }
        }
    });
</script>
</body>
</html>